import{r as s,A as p,j as e}from"./index-CtDtNwU0.js";import{a as b}from"./index-NIGUFBhG.js";import{f as j}from"./dateUtils-Bol1tabJ.js";const n="/assets/detonarturo-HJRD74dq.png";function S(){const[o,x]=s.useState([]),[h,d]=s.useState(!1),[l,f]=s.useState("");s.useEffect(()=>{d(!0),b.get(`${p}/vendedoras-status`,{params:l?{nombre:l}:{}}).then(a=>x(a.data)).finally(()=>d(!1))},[l]);const g=s.useMemo(()=>{const a=new Date,r=new Date(a.getFullYear(),a.getMonth()-2,a.getDate());return o.map(c=>{let t=c.fechaultima;t&&typeof t=="object"&&t.toISOString?t=t.toISOString().slice(0,10):t&&typeof t=="string"?t=t.slice(0,10):t="-";let i="Inactiva",m="bg-yellow-400 text-gray-900",u=e.jsx("img",{src:n,alt:"Inactiva",className:"inline-block w-6 h-6 rounded-full mr-2 align-middle",style:{verticalAlign:"middle"}});return t&&new Date(t)>=r&&(i="Activa",m="bg-green-600 text-white",u=null),{nombre:c.nombre,bloque:c.Bloque,sucursal:c.Sucursal,fechaUltima:j(t),estatus:i,color:m,icon:u}})},[o]);return s.useEffect(()=>{const a=document.querySelector("link[rel*='icon']");return a&&(a.href=n),()=>{a&&(a.href="/vite.svg")}},[]),e.jsx("div",{className:"p-6 min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:e.jsxs("div",{className:"backdrop-blur-lg bg-white/10 rounded-xl shadow-2xl p-6 max-w-5xl mx-auto border border-white/20",children:[e.jsx("div",{className:"flex justify-between mb-4 items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:n,alt:"Detonada",className:"w-8 h-8 rounded-full shadow-lg object-cover"}),e.jsxs("h1",{className:"text-2xl font-bold mb-4 text-center text-gray-100 drop-shadow flex items-center",children:["Buscador ",e.jsx("span",{className:"ml-2",children:"Vendedoras Status"})]})]})}),e.jsx("div",{className:"mb-4 flex gap-4 items-center",children:e.jsx("input",{type:"text",className:"border border-gray-700 bg-gray-900/60 text-gray-100 p-2 rounded w-full max-w-xs",placeholder:"Buscar vendedora por nombre...",value:l,onChange:a=>f(a.target.value)})}),h?e.jsx("p",{className:"text-center text-gray-400",children:"Cargando..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full bg-gray-900/80 shadow-md rounded text-sm text-gray-100",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800/80 text-left",children:[e.jsx("th",{className:"p-2",children:"Vendedora"}),e.jsx("th",{className:"p-2",children:"Bloque"}),e.jsx("th",{className:"p-2",children:"Sucursal"}),e.jsx("th",{className:"p-2",children:"Ãšltima Venta"}),e.jsx("th",{className:"p-2",children:"Estatus"})]})}),e.jsx("tbody",{children:g.sort((a,r)=>r.fechaUltima?.localeCompare(a.fechaUltima)).map((a,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2",children:a.nombre}),e.jsx("td",{className:"p-2",children:a.bloque}),e.jsx("td",{className:"p-2",children:a.sucursal}),e.jsx("td",{className:"p-2",children:a.fechaUltima||"-"}),e.jsxs("td",{className:`p-2 font-bold rounded flex items-center ${a.color}`,children:[a.icon,a.estatus]})]},r))})]})})]})})}export{S as default};
